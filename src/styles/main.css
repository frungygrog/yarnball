@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 224 71% 4%;
    --foreground: 213 31% 91%;
    
    --primary: 217 91% 60%; /* Changed from green to blue */
    --primary-foreground: 0 0% 100%;
    
    --muted: 223 47% 11%;
    --muted-foreground: 215 20% 65%;
    
    --accent: 223 47% 20%;
    --accent-foreground: 215 20% 80%;
    
    --border: 216 34% 17%;
    --input: 216 34% 17%;
    --ring: 142 72% 29%;
    
    --radius: 0.5rem;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground font-sans;
    font-family: 'DM Sans', sans-serif;
  }
}

/* App Layout */
.app-container {
  @apply grid grid-cols-[240px_1fr] grid-rows-[1fr_90px] h-screen overflow-hidden;
  grid-template-areas:
    "sidebar main-content"
    "player-bar player-bar";
  z-index: 100;
}

/* Sidebar */
.sidebar {
  grid-area: sidebar;
  @apply bg-gray-950 text-muted-foreground py-5 h-full overflow-y-auto;
}

.logo {
  @apply px-5 pb-5 border-b border-border;
}

.logo h2 {
  @apply text-foreground text-2xl;
}

.nav-menu ul {
  @apply list-none mt-5;
}

.nav-menu li {
  @apply mb-2;
}

.nav-item {
  @apply flex items-center text-muted-foreground no-underline py-2 px-5 text-sm font-medium transition-colors;
}

.nav-item svg {
  @apply mr-3 text-lg;
}

.nav-item:hover, .nav-item.active {
  @apply text-foreground;
}

.nav-item.active {
  @apply bg-accent border-l-4 border-primary pl-4;
}

/* Main Content */
.main-content {
  grid-area: main-content;
  @apply bg-background overflow-y-auto relative pb-[60px] text-foreground;
}

.content-section {
  @apply hidden p-5 h-full;
}

.content-section.active {
  @apply block;
}

/* Search Section */
.search-container {
  @apply mb-5;
}

.search-input-container {
  @apply flex mb-4;
}

#global-search {
  @apply flex-1 py-3 px-4 rounded-[30px] shadow-md text-base;
}

.search-filters {
  @apply flex gap-2;
}

.search-filter {
  @apply py-2 px-4 rounded-full bg-accent text-sm text-muted-foreground;
}

.search-filter.active {
  @apply bg-primary text-white;
}

.search-results-container {
  @apply bg-background p-5;
}

/* Library Section */
.library-tabs {
  @apply flex gap-2 mb-5 border-b border-border pb-2;
}

.library-content {
  @apply hidden;
}

.library-content.active {
  @apply block;
}

/* Songs Lists */
.song-list-headers {
  @apply grid grid-cols-[50px_1fr_1fr_120px_50px] gap-2 py-2 px-5 border-b border-border font-medium text-muted-foreground text-sm;
}

.song-list {
  @apply mt-2;
}

.song-item {
  @apply grid grid-cols-[50px_1fr_1fr_120px_50px] gap-2 py-3 px-5 rounded items-center;
}

.song-item:hover {
  @apply bg-accent;
}

.song-number {
  @apply text-muted-foreground text-sm;
}

.song-info {
  @apply flex flex-col;
}

.song-title {
  @apply font-medium;
}

.song-artist {
  @apply text-muted-foreground text-sm;
}

.song-album {
  @apply text-muted-foreground text-sm;
}

.song-duration {
  @apply text-muted-foreground text-sm;
}

.song-actions {
  @apply flex justify-end;
}

/* Album and Artist Grids */
.albums-grid, .artists-grid {
  @apply grid grid-cols-auto-fill-180 gap-5 mt-5;
}

.album-card, .artist-card {
  @apply bg-accent rounded-lg overflow-hidden shadow-lg transition-transform cursor-pointer;
}

.album-card:hover, .artist-card:hover {
  @apply transform -translate-y-1;
}

.album-image, .artist-image {
  @apply w-full aspect-square object-cover;
}

.album-info, .artist-info {
  @apply p-4;
}

.album-title, .artist-name {
  @apply font-medium mb-1 whitespace-nowrap overflow-hidden text-ellipsis;
}

.album-artist {
  @apply text-muted-foreground text-sm whitespace-nowrap overflow-hidden text-ellipsis;
}

/* Artist View */
.artist-header, .album-header {
  @apply flex flex-col gap-5 mb-8;
}

.back-button button {
  @apply py-2 px-4 bg-accent rounded-full text-sm text-foreground;
}

.artist-info, .album-info {
  @apply flex items-center gap-5;
}

.artist-info h1, .album-info h1 {
  @apply text-3xl text-foreground;
}

.heart-btn {
  @apply text-xl text-muted-foreground;
}

.heart-btn:hover, .heart-btn.active {
  @apply text-red-500;
}

.album-cover {
  @apply w-[200px] h-[200px] rounded-lg overflow-hidden shadow-xl;
}

.album-cover img {
  @apply w-full h-full object-cover;
}

.album-details {
  @apply flex flex-col gap-2;
}

.album-details h3 {
  @apply text-muted-foreground;
}

.download-album-btn {
  @apply py-2 px-5 bg-primary text-white rounded-full font-medium mt-2 self-start;
}

.artist-content, .album-content {
  @apply flex flex-col gap-10;
}

.artist-top-songs, .artist-albums {
  @apply mb-5;
}

.artist-top-songs h3, .artist-albums h3 {
  @apply mb-4 text-foreground text-xl;
}

/* Downloads Panel */
.downloads-panel {
  @apply fixed bottom-[90px] right-4 w-[400px] bg-accent text-foreground shadow-lg rounded-tl-lg rounded-tr-lg z-10 transition-transform;
}

.downloads-panel.minimized {
  @apply transform translate-y-[calc(100%-40px)];
}

.downloads-panel.minimized .downloads-list {
  @apply hidden; /* Hide the list when minimized */
}

.panel-header {
  @apply flex justify-between items-center py-2 px-4 border-b border-border;
}

.minimize-btn {
  @apply text-sm text-muted-foreground;
}

.downloads-list {
  @apply max-h-[300px] overflow-y-auto p-2;
}

.download-item {
  @apply flex items-center gap-2 p-2 rounded mb-1;
}

.download-info {
  @apply flex-1;
}

.download-title {
  @apply font-medium text-sm;
}

.download-artist {
  @apply text-muted-foreground text-xs;
}

.download-progress-container {
  @apply w-[100px] h-[6px] bg-muted rounded overflow-hidden;
}

.download-status {
  @apply text-xs text-muted-foreground w-[70px] text-right;
}

.download-status.success {
  @apply text-green-500;
}

.download-status.error {
  @apply text-red-500;
}

.empty-downloads {
  @apply py-5 text-center text-muted-foreground;
}

/* Player Bar */
.player-bar {
  grid-area: player-bar;
  @apply bg-muted py-0 px-4 flex items-center justify-between z-20;
}

.now-playing {
  @apply flex items-center w-[30%];
}

.track-image {
  @apply w-[56px] h-[56px] mr-4;
}

.track-image img {
  @apply w-full h-full object-cover rounded;
}

.track-info {
  @apply flex flex-col max-w-[180px];
}

.track-name {
  @apply text-foreground text-sm font-medium mb-1 whitespace-nowrap overflow-hidden text-ellipsis;
}

.track-artist {
  @apply text-muted-foreground text-xs whitespace-nowrap overflow-hidden text-ellipsis;
}

.player-controls {
  @apply flex flex-col items-center w-[40%];
}

.control-buttons {
  @apply flex items-center gap-5 mb-2;
}

.control-btn {
  @apply text-muted-foreground text-sm py-1;
}

.play-btn {
  @apply text-black text-base w-8 h-8 bg-white rounded-full flex items-center justify-center;
}

.play-btn.playing i {
  @apply text-black;
}

.progress-container {
  @apply flex items-center w-full gap-2;
}

#current-time, #total-time {
  @apply text-muted-foreground text-xs min-w-[40px];
}

.progress-bar {
  @apply h-1 bg-accent rounded flex-1 cursor-pointer;
}

.progress {
  @apply h-full bg-muted-foreground rounded w-0;
}

/* Override default track background for player progress bar */
.player-bar .progress-bar [data-radix-slider-track] {
  @apply bg-accent;
}

.progress-bar:hover .progress {
  @apply bg-primary;
}

.volume-controls {
  @apply flex items-center w-[30%] justify-end gap-2;
}

.volume-btn {
  @apply text-muted-foreground text-base;
}

.volume-slider-container {
  @apply w-[100px];
}

.volume-slider {
  @apply h-1 bg-accent rounded relative cursor-pointer;
}

.volume-progress {
  @apply h-full bg-muted-foreground rounded w-1/2;
}

.volume-slider:hover .volume-progress {
  @apply bg-primary;
}

/* Adjust play icon centering */
.player-bar .play-btn svg {
  transform: translateX(1px);
}

/* Fill player control icons */
.player-bar .control-btn svg,
.player-bar .volume-btn svg {
  fill: currentColor;
}


.empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  width: 100%;
  height: 300px; /* Set a fixed height to ensure vertical centering */
  padding: 2rem;
  color: var(--muted-foreground);
}

.empty-state svg {
  opacity: 0.5;
  margin-bottom: 1rem;
  width: 48px;
  height: 48px;
}

.empty-state p {
  font-size: 1rem;
  max-width: 300px;
  margin: 0 auto;
}

/* Loading state */
.loading {
  @apply flex items-center justify-center py-10 text-muted-foreground;
}

/* Notification */
.notification {
  @apply fixed bottom-[100px] left-1/2 transform translate-x-[-50%] translate-y-[100px] py-3 px-6 bg-accent text-white rounded z-[9999] opacity-0 transition-all max-w-[80%] text-center shadow-lg;
}

.notification.show {
  @apply transform translate-x-[-50%] translate-y-0 opacity-100;
}

.notification.info {
  @apply bg-blue-500;
}

.notification.success {
  @apply bg-primary;
}

.notification.error {
  @apply bg-red-500;
}

.notification.warning {
  @apply bg-amber-500;
}

/* Logs Modal */
.logs-container {
  @apply bg-accent border border-border p-4 h-[500px] overflow-y-auto font-mono text-xs mt-2;
}

#logs-content {
  @apply whitespace-pre-wrap;
}

/* Responsive adjustments */
@media (max-width: 992px) {
  .app-container {
    @apply grid-cols-1;
    grid-template-areas:
      "main-content"
      "player-bar";
  }
  
  .sidebar {
    @apply hidden;
  }
  
  .downloads-panel {
    @apply w-full;
  }
}

/* Custom Scrollbar Styles */

/* For Webkit browsers (Chrome, Safari, newer Edge) */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: hsl(var(--muted));
  border-radius: 8px;
}

::-webkit-scrollbar-thumb {
  background: hsl(var(--accent));
  border-radius: 8px;
  border: 2px solid hsl(var(--muted));
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(var(--primary));
}

/* For Firefox */
* {
  scrollbar-width: thin;
  scrollbar-color: hsl(var(--accent)) hsl(var(--muted));
}

/* Targeting specific scrollable areas */
.main-content,
.downloads-list,
.logs-container,
.song-list,
.albums-grid,
.artists-grid {
  scrollbar-width: thin;
  scrollbar-color: hsl(var(--accent)) hsl(var(--muted));
}

/* Optional: Hide scrollbar but keep functionality */
.hide-scrollbar {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

.hide-scrollbar::-webkit-scrollbar {
  display: none;  /* Chrome, Safari and Opera */
}